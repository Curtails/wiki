---
layout: page
title: "Linux-wsl-常用命令
date: 2019-09-19 01:01
---

## wsl+cmder
这两天用wsl+cmder搭建了linux环境，暂时装了python、binwalk。wsl启动速度很快不用开虚拟机了这点非常爽；再加上cmder快速的启动及美化使用体验很好。
![](https://picgoo.oss-cn-hangzhou.aliyuncs.com/blogimg/Snipaste_2019-09-19_22-49-33.png)

## wsl+Windows Terminal
重装系统之后 改用这个组合 很漂亮 毕竟好看是第一生产力(逃

## grep
```
grep -r flag ./filename //指定文件夹递归查找flag
strings ./filename | grep flag  //二进制文件strings 查找flag
```

## ls
ls -a 显示所有档案及目录（ls内定将档案名或目录名称为“.”的视为影藏，不会列出）

ls -l 以长格式显示目录下的内容列表。输出的信息从左到右依次包括文件名，文件类型、权限模式、硬连接数、所有者、组、文件大小和文件的最后修改时间等

https://blog.csdn.net/bearcatfly/article/details/54617095 所有者、群组、其他人概念

![](https://picgoo.oss-cn-hangzhou.aliyuncs.com/blogimg/20190920124758.png)

## 普通文件类型
普通文件类型 

Linux中最多的一种文件类型, 包括 纯文本文件(ASCII)；二进制文件(binary)；数据格式的文件(data);各种压缩文件.第一个属性为 [-] 
- 目录文件
就是目录， 能用 # cd 命令进入的。第一个属性为 [d]，例如 [d rwx rwx rwx]

- 管理文件
    FIFO也是一种特殊的文件类型，它主要的目的是，解决多个程序同时存取一个文件所造成的错误。FIFO是first-in-first-out(先进先出)的缩写。第一个属性为 [p]
- 链接文件
    类似Windows下面的快捷方式。第一个属性为 [l]，例如 [lrwxrwxrwx]
- 块设备文件
    块设备文件 ：就是存储数据以供系统存取的接口设备，简单而言就是硬盘。例如一号硬盘的代码是 /dev/hda1等文件。第一个属性为 [b]
- 字符设备文件
    字符设备文件：即串行端口的接口设备，例如键盘、鼠标等等。第一个属性为 [c]
- 套接字文件
    这类文件通常用在网络数据连接，主要用于网络通信，套接字也可以是一台主机上的进程之间的通信。可以启动一个程序来监听客户端的要求，客户端就可以通过套接字来进行数据通信。第一个属性为 [s]，最常在 /var/run目录中看到这种文件类型
## man
man命令是Linux下的帮助指令，通过man指令可以查看Linux中的指令帮助、配置文件帮助和编程帮助等信息。

例如 man ls 就会列出关于ls命令用法、信息等
- / 要搜索的内容 从上往下找
- ? 要搜索的内容 从下往上找
     
## 管道
管道：一个命令的输出可以通过管道做为另一个命令的输入。
“|”是管道命令操作符，简称管道符。利用Linux所提供的管道符“|”将两个命令隔开，管道符左边命令的输出就会作为管道符右边命令的输入。连续使用管道意味着第一个命令的输出会作为 第二个命令的输入，第二个命令的输出又会作为第三个命令的输入，依此类推。
![](https://picgoo.oss-cn-hangzhou.aliyuncs.com/blogimg/20190920124804.png)

例如：`ls -lah | more、、、、man ls | more`

## more
more命令是一个基于vi编辑器文本过滤器，它以全屏幕的方式按页显示文本文件的内容，支持vi中的关键字定位操作。more名单中内置了若干快捷键，常用的有H（获得帮助信息），Enter（向下翻滚一行），空格（向下滚动一屏），Q（退出命令）

## ln
Linux ln命令是一个非常重要命令，它的功能是为某一个文件在另外一个位置建立一个同步的链接。
当我们需要在不同的目录，用到相同的文件时，我们不需要在每一个需要的目录下都放一个必须相同的文件，我们只要在某个固定的目录，放上该文件，然后在其它的目录下用ln命令链接（link）它就可以，不必重复的占用磁盘空间。

## vi
i：在当前字符前插入文本，进入插入模式

Esc：从编辑模式切换到命令模式；

wq：在命令模式下，执行存盘退出操作

w：在命令模式下，执行存盘操作

w！：在命令模式下，执行强制存盘操作

q：在命令模式下，执行退出vi操作

q！：在命令模式下，执行强制退出vi操作

## cd
cd 进入用户主目录

cd ~ 进入用户主目录

cd - 返回进入此目录之前所在的目录

cd .. 返回上级目录（若当前目录为“/“，则执行完后还在“/"；".."为上级目录的意思）

cd ../.. 返回上两级目录

## which
使用which命令，就可以看到某个系统命令是否存在，以及执行的到底是哪一个位置的命令。

## whatis
是用于查询一个命令执行什么功能，并将查询结果打印到终端上。

## file
查看文件信息 例如file a.txt

## 根目录下的文件
![](https://picgoo.oss-cn-hangzhou.aliyuncs.com/blogimg/20190920124812.png)
/：处于树形结构的最顶端。

/bin：存放所有用户都可使用的linux基本操作命令

/dev：设备文件目录，虚拟文件系统。

/home：默认存放用户的宿主目录(除了root用户)。

/misc：自动挂载服务目录，对应autofs服务。

/proc：虚拟文件系统，不能建立和删除文件。

/usr：安装除操作系统本身外应用程序或组件。

/boot：存放开机启动加载程序的核心文件

/etc：主机、系统或网络配置文件存放目录。

/media：移动存储设备默认挂载点。(如光盘)。

/root：管理员root的宿主目录。

/tmp：临时文件存放区域。

/var：动态文件或数据存放目录，默认日志文件都存放在这个目录下，建议单独划分一个分区。

/sbin：系统管理相关的二进制文件存放在这个目录下（多数管理命令默认只有管理员可以使用）

/bin：存放最常用命令

/boot：启动Linux的核心文件

/dev：设备文件

/etc：存放各种配置文件

/home：用户主目录

/lib：系统最基本的动态链接共享库

/mnt：一般是空的，用来临时挂载别的文件系统

/proc：虚拟目录，是内存的映射

/sbin：系统管理员命令存放目录

/usr：最大的目录，存放应用程序和文件

/usr/X11R6：X-Window目录

/usr/src：Linux源代码

/usr/include：系统头文件

/usr/lib：存放常用动态链接共享库、静态档案库

/usr/bin、/usr/sbin：这是对/bin、/sbin的一个补充

## cat
cat 命令用于连接文件并打印到标准输出设备上。

将文件1.2的内容放在文件3中去：

-X 文件1 文件2 > 文件3 （如果文件3里有内容，则3中内容被覆盖）

-X 文件1 文件2 >> 文件3 （追加在文件3内容后面，不会覆盖）

-n 或 --number：由 1 开始对所有输出的行数编号。

-b 或 --number-nonblank：和 -n 相似，只不过对于空白行不编号。

-s 或 --squeeze-blank：当遇到有连续两行以上的空白行，就代换为一行的空白行。

清空文件内容：cat /dev/null > 文件 例如：cat /dev/null > /etc/test.txt

## cp
cp命令用来将一个或多个源文件或者目录复制到指定的目的文件或目录。

cp -X 文件 要复制到的目录/新文件名 例如：cp test.py Music/01_test.py

(但是注意，若要复制的目标文件夹下已有相同文件名的文件，原文件将被覆盖，不会提示)

-f 当文件重名时，强制覆盖

-r 递归复制，将一个目录里的所有文件，复制到另一个目录里 例如：cp -r /bin/sg /etc/jh

-b 当文件重名时，备份一份

-i 当文件重名时，会提示要不要覆盖

## rm
rm命令可以删除一个目录中的一个或多个文件或目录，也可以将某个目录及其下属的所有文件及其子目录均删除掉。对于链接文件，只是删除整个链接文件，而原有文件保持不变。

rm -X 要删除的文件

-d：直接把欲删除的目录的硬连接数据删除成0，删除该目录；删除有可能存在文件

-f：强制删除文件或目录

-i：删除已有文件或目录之前先询问用户

-r或-R：递归处理，将指定目录下的所有文件与子目录一并处理

-v：显示指令的详细执行过程。

## mv
mv命令用来对文件或目录重新命名，或者将文件从一个目录移到另一个目录中。

-b：当文件存在时，覆盖前，为其创建一个备份；

-f：若目标文件或目录与现有的文件或目录重复，则直接覆盖现有的文件或目录；

-i：交互式操作，覆盖前先行询问用户，如果源文件与目标文件或目标目录中的文件同名，则询问用户是否覆盖目标文件。用户输入”y”，表示将覆盖目标文件；输入”n”，表示取消对源文件的移动。这样可以避免误将文件覆盖。

将文件重命名将文件ex3改名为new1：mv ex3 new1

将目录/usr/men中的所有文件移到当前目录（用.表示）中：
mv /usr/men/* .

## chmod
权限范围的表示法如下：

u User，即文件或目录的拥有者

g Group，即文件或目录的所属群组

o Other，除了文件或目录拥有者或所属群组之外，其他用户皆属于这个范围

a All，即全部的用户，包含拥有者，所属群组以及其他用户

r 读取权限，数字代号为“4”

w 写入权限，数字代号为“2”

x 执行或切换权限，数字代号为“1”

\- 不具任何权限，数字代号为“0”

s 特殊功能说明：变更文件或目录的权限。

例如：

chmod u+x,g+w f01　　//为文件f01设置自己可以执行，组员可以写入的权限

chmod u=rwx,g=rw,o=r f01

chmod 764 f01

chmod a+x f01　　//对文件f01的u,g,o都设置可执行属性

![](https://picgoo.oss-cn-hangzhou.aliyuncs.com/blogimg/20190920125641.png)

## mkdir 
-m：建立目录的同时设置目录的权限

例如：mkdir -m 777 da

-p：若所要建立目录的上层目录目前尚未建立，则会一并建立上层目录

例如：mkdir -p-m 750 bin/os_1

在当前目录中建立bin和bin下的os_1目录，权限设置为文件主可读、写、执行，同组用户可读和执行，其他用户无权访问

## touch
有两个功能：一是用于把已存在文件的时间标签更新为系统当前的时间（默认方式），它们的数据将原封不动地保留下来；二是用来创建新的空文件。

-a：只更改存取时间

-d：<时间日期> 使用指定的日期时间，而非现在的时间

![](https://picgoo.oss-cn-hangzhou.aliyuncs.com/blogimg/20190920130922.png)

## tree
以树状图列出目录的内容

## ps
用于报告当前系统的进程状态

## find
用来在指定目录下查找文件

find 文件夹 -name 查找目标 例如:find / -name aba,txt（当不知道在什么文件夹下时可用根目录）

find 文件夹 -iname 查找目标 (同上，但不区分大小写)

find . 列出当前目录及子目录下所有文件和文件夹

## locate
用来查找文件或目录，比find快

搜索etc目录下所有以sh开头的文件：locate /etc/sh

搜索用户主目录下，所有以m开头的文件：locate ~/m

搜索用户主目录下，所有以m开头的文件，并且忽略大小写：locate -i ~/m

## head
用于显示文件的开头的内容。默认显示文件的头10行内容。

例如：`man ls | head`

若要指定看多少行，则：head -n 行数

## less
less命令的作用与more十分相似，都可以用来浏览文字档案的内容，不同的是less命令允许用户向前或向后浏览文件，而more命令只能向前浏览。用less命令显示文件时，用PageUp键向上翻页，用PageDown键向下翻页。要退出less程序，应按Q键。

 